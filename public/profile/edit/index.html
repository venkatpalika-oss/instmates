<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edit Profile | InstMates</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Global CSS -->
  <link rel="stylesheet" href="/assets/css/style.css?v=2026-02-22" />

  <!-- Cropper CSS -->
  <link href="https://unpkg.com/cropperjs@1.6.2/dist/cropper.css" rel="stylesheet"/>

  <style>

    /* ================= IMAGE PREVIEW ================= */

    .image-preview {
      margin-top: 15px;
      text-align: center;
    }

    .image-preview img {
      width: 140px;
      height: 140px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #e5e9f0;
      display: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* ================= CROP CONTAINER ================= */

    #cropContainer {
      margin-top: 20px;
      display: none;
      max-width: 420px;
    }

    #cropContainer img {
      width: 100%;
      max-height: 420px;
    }

    #cropContainer p {
      font-size: 13px;
      color: #666;
      margin-bottom: 10px;
    }

    /* ================= TOAST ================= */

    #toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      padding: 14px 20px;
      border-radius: 8px;
      color: #fff;
      font-weight: 500;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: 9999;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }

    /* ================= COMPLETION ================= */

    .completion-box {
      margin-top: 20px;
      padding: 14px;
      background: #f8fafc;
      border-radius: 10px;
      font-size: 14px;
    }

    .completion-bar {
      height: 10px;
      background: #e2e8f0;
      border-radius: 20px;
      margin-top: 8px;
      overflow: hidden;
    }

    .completion-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #22c55e, #16a34a);
      transition: width 0.5s ease;
    }

    /* ================= PHOTO ACTIONS ================= */

    .photo-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    @media (max-width: 600px) {
      #cropContainer {
        max-width: 100%;
      }
    }

  </style>
</head>

<body data-page="profile-edit">

<div id="siteHeader"></div>

<main class="container">
  <section class="panel">

    <h1>Edit Profile</h1>

    <form id="editProfileForm">

      <!-- ================= BASIC INFO ================= -->

      <h3>Basic Information</h3>

      <label>Full Name</label>
      <input type="text" id="fullName" required />

      <label>Headline</label>
      <input type="text" id="headline" />

      <label>Location</label>
      <input type="text" id="location" />

      <!-- ================= PROFILE PHOTO ================= -->

      <label>Profile Photo</label>

      <div class="photo-actions">
        <input type="file" id="profilePhoto" accept="image/*" hidden />

        <button type="button" id="changePhotoBtn" class="btn btn-ghost">
          Change Photo
        </button>

        <button type="button" id="deletePhotoBtn" class="btn btn-danger" style="display:none;">
          Delete Photo
        </button>
      </div>

      <!-- Circular Preview -->
      <div class="image-preview">
        <img id="imagePreview" alt="Profile Preview" />
      </div>

      <!-- Crop Area -->
      <div id="cropContainer">
        <p>Drag to reposition. Scroll to zoom. Final image will be square.</p>
        <img id="cropImage" alt="Crop Image" />
        <button type="button" id="cropBtn" class="btn btn-primary" style="margin-top:12px;">
          Crop Image
        </button>
      </div>

      <!-- ================= PROFESSIONAL ================= -->

      <h3 style="margin-top:30px;">Professional</h3>

      <label>Specialization</label>
      <input type="text" id="specialization" />

      <label>Analyzers Worked (comma separated)</label>
      <input type="text" id="analyzersWorked" />

      <!-- ================= COMPLETION ================= -->

      <div class="completion-box">
        Profile Completion:
        <strong><span id="completionPercent">0%</span></strong>
        <div class="completion-bar">
          <div class="completion-fill" id="completionFill"></div>
        </div>
      </div>

      <!-- ================= SAVE ================= -->

      <button type="submit" class="btn btn-primary" style="margin-top:25px;">
        Save Profile
      </button>

    </form>

  </section>
</main>

<div id="siteFooter"></div>

<!-- Toast -->
<div id="toast"></div>

<!-- ================= SCRIPTS (ONLY REQUIRED ON THIS PAGE) ================= -->

<script src="/assets/js/includes.js?v=2026-02-22"></script>
<script type="module" src="/profile/edit/edit-profile.js?v=2026-02-22"></script>

</body>
</html>